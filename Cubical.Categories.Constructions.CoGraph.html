<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.Constructions.CoGraph</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- The graph of a profunctor</a>
<a id="30" class="Symbol">{-#</a> <a id="34" class="Keyword">OPTIONS</a> <a id="42" class="Pragma">-W</a> <a id="45" class="Pragma">noUnsupportedIndexedMatch</a> <a id="71" class="Symbol">#-}</a>
<a id="75" class="Keyword">module</a> <a id="82" href="Cubical.Categories.Constructions.CoGraph.html" class="Module">Cubical.Categories.Constructions.CoGraph</a> <a id="123" class="Keyword">where</a>


<a id="131" class="Comment">-- private</a>
<a id="142" class="Comment">--   variable</a>
<a id="156" class="Comment">--     ℓC ℓC&#39; ℓD ℓD&#39; ℓS : Level</a>

<a id="189" class="Comment">-- open Category</a>
<a id="206" class="Comment">-- open Functor</a>

<a id="223" class="Comment">-- module _ {C : Category ℓC ℓC&#39;}</a>
          <a id="267" class="Comment">-- {D : Category ℓD ℓD&#39;}</a>
  <a id="294" class="Comment">-- (P : C o-[ ℓS ]-* D) where</a>
<a id="324" class="Comment">--   CoGraphOb : Type (ℓ-max ℓC ℓD)</a>
<a id="360" class="Comment">--   CoGraphOb = C .ob ⊎ D .ob</a>

<a id="392" class="Comment">--   data CoGraphHom : CoGraphOb → CoGraphOb →</a>
<a id="439" class="Comment">--                   Type (ℓ-max ℓS (ℓ-max (ℓ-max ℓC ℓC&#39;) (ℓ-max ℓD ℓD&#39;))) where</a>
<a id="520" class="Comment">--     ↑o : ∀ {A B} → C [ A , B ] → CoGraphHom (inl A) (inl B)</a>
<a id="583" class="Comment">--     ↑* : ∀ {A B} → D [ A , B ] → CoGraphHom (inr A) (inr B)</a>
<a id="646" class="Comment">--     ↑p : ∀ {A B} → ⟨ P ⟅ A , B ⟆ ⟩ → CoGraphHom (inl A) (inr B)</a>

<a id="714" class="Comment">--   CoGraphComp : ∀ {A B C} → CoGraphHom A B → CoGraphHom B C → CoGraphHom A C</a>
<a id="794" class="Comment">--   CoGraphComp (↑o f) (↑o f&#39;) = ↑o (f ⋆⟨ C ⟩ f&#39;)</a>
<a id="845" class="Comment">--   CoGraphComp (↑* g) (↑* g&#39;) = ↑* (g ⋆⟨ D ⟩ g&#39;)</a>
<a id="896" class="Comment">--   CoGraphComp (↑o f) (↑p p) = ↑p (P .F-hom (f , (D .id)) p)</a>
<a id="959" class="Comment">--   CoGraphComp (↑p p) (↑* g) = ↑p (P .F-hom ((C .id) , g) p)</a>

<a id="1023" class="Comment">--   ↑p-r : ∀ {A B} → CoGraphHom (inl A) (inr B) → ⟨ P ⟅ A , B ⟆ ⟩</a>
<a id="1090" class="Comment">--   ↑p-r (↑p p) = p</a>

<a id="1112" class="Comment">--   private</a>
<a id="1125" class="Comment">--     ↑o-r : ∀ {A B} → CoGraphHom (inl A) (inl B) → C [ A , B ]</a>
<a id="1190" class="Comment">--     ↑o-r (↑o f) = f</a>

<a id="1214" class="Comment">--     ↑o-r-retract : ∀ {A B} → (f : CoGraphHom (inl A) (inl B)) →</a>
  <a id="1283" class="Comment">--     ↑o (↑o-r f) ≡ f</a>
<a id="1306" class="Comment">--     ↑o-r-retract (↑o f) = refl</a>

<a id="1341" class="Comment">--     ↑*-r : ∀ {A B} → CoGraphHom (inr A) (inr B) → D [ A , B ]</a>
<a id="1406" class="Comment">--     ↑*-r (↑* g) = g</a>

<a id="1430" class="Comment">--     ↑*-r-retract : ∀ {A B} → (f : CoGraphHom (inr A) (inr B)) →</a>
<a id="1497" class="Comment">--     ↑* (↑*-r f) ≡ f</a>
<a id="1520" class="Comment">--     ↑*-r-retract (↑* f) = refl</a>

<a id="1555" class="Comment">--     ↑p-r-retract : ∀ {A B} → (f : CoGraphHom (inl A) (inr B)) →</a>
                      <a id="1644" class="Comment">--     ↑p (↑p-r f) ≡ f</a>
<a id="1667" class="Comment">--     ↑p-r-retract (↑p f) = refl</a>

<a id="1702" class="Comment">--     absurd-r : ∀ {A B} → CoGraphHom (inr A) (inl B) → ⊥</a>
<a id="1761" class="Comment">--     absurd-r ()</a>

<a id="1781" class="Comment">--   CoGraph : Category (ℓ-max ℓC ℓD)</a>
<a id="1819" class="Comment">--                      (ℓ-max (ℓ-max (ℓ-max (ℓ-max ℓC ℓC&#39;) ℓD) ℓD&#39;) ℓS)</a>
<a id="1892" class="Comment">--   CoGraph .ob = CoGraphOb</a>
<a id="1921" class="Comment">--   CoGraph .Hom[_,_] = CoGraphHom</a>
<a id="1957" class="Comment">--   CoGraph .id {inl A} = ↑o (C .id)</a>
<a id="1995" class="Comment">--   CoGraph .id {inr B} = ↑* (D .id)</a>
<a id="2033" class="Comment">--   CoGraph ._⋆_ = CoGraphComp</a>
<a id="2065" class="Comment">--   CoGraph .⋆IdL (↑o f) = cong ↑o (C .⋆IdL f)</a>
<a id="2113" class="Comment">--   CoGraph .⋆IdL (↑p p) = cong ↑p (λ i → (P .F-id i) p)</a>
<a id="2171" class="Comment">--   CoGraph .⋆IdL (↑* g) = cong ↑* (D .⋆IdL g)</a>
<a id="2219" class="Comment">--   CoGraph .⋆IdR (↑o f) = cong ↑o (C .⋆IdR f)</a>
<a id="2267" class="Comment">--   CoGraph .⋆IdR (↑p p) = cong ↑p (λ i → (P .F-id i) p)</a>
<a id="2325" class="Comment">--   CoGraph .⋆IdR (↑* g) = cong ↑* (D .⋆IdR g)</a>
<a id="2373" class="Comment">--   CoGraph .⋆Assoc (↑o f) (↑o f&#39;) (↑o f&#39;&#39;) = cong ↑o (C .⋆Assoc _ _ _)</a>
<a id="2446" class="Comment">--   CoGraph .⋆Assoc (↑o f) (↑o f&#39;) (↑p p) =</a>
<a id="2491" class="Comment">--     cong ↑p ((λ i → P .F-hom (f ⋆⟨ C ⟩ f&#39; , D .⋆IdL (D .id) (~ i)) p)</a>
<a id="2564" class="Comment">--       ∙ λ i → (P .F-seq (f&#39; , D .id) (f , D .id) i) p)</a>
<a id="2622" class="Comment">--   CoGraph .⋆Assoc (↑o f) (↑p p) (↑* g) =</a>
<a id="2666" class="Comment">--     cong ↑p ((λ i → (P .F-seq (f , D .id) (C .id , g) (~ i)) p)</a>
<a id="2733" class="Comment">--       ∙ (λ i → P .F-hom ((C .⋆IdL f ∙ sym (C .⋆IdR f)) i ,</a>
<a id="2795" class="Comment">--                          (D .⋆IdL g ∙ sym (D .⋆IdR g)) i) p)</a>
<a id="2859" class="Comment">--       ∙ λ i → (P .F-seq ((C .id) , g) (f , (D .id)) i ) p)</a>
<a id="2921" class="Comment">--   CoGraph .⋆Assoc (↑p p) (↑* h) (↑* h&#39;) =</a>
<a id="2966" class="Comment">--     cong ↑p ((λ i → (P .F-seq (C .id , h) (C .id , h&#39;) (~ i)) p)</a>
<a id="3034" class="Comment">--       ∙ λ i → P .F-hom ( C .⋆IdL (C .id) i , h ⋆⟨ D ⟩ h&#39; ) p)</a>
<a id="3099" class="Comment">--   CoGraph .⋆Assoc (↑* h) (↑* h&#39;) (↑* h&#39;&#39;) = cong ↑* (D .⋆Assoc _ _ _)</a>
<a id="3172" class="Comment">--   CoGraph .isSetHom {inl A} {inl A&#39;} =</a>
<a id="3214" class="Comment">--     isSetRetract ↑o-r ↑o ↑o-r-retract (C .isSetHom)</a>
<a id="3269" class="Comment">--   CoGraph .isSetHom {inl A} {inr B} =</a>
<a id="3310" class="Comment">--     isSetRetract ↑p-r ↑p ↑p-r-retract ((P ⟅ _ ⟆ ) .snd)</a>
<a id="3369" class="Comment">--   CoGraph .isSetHom {inr B} {inr B&#39;} =</a>
<a id="3411" class="Comment">--     isSetRetract ↑*-r ↑* ↑*-r-retract (D .isSetHom)</a>
<a id="3466" class="Comment">--   CoGraph .isSetHom {inr B} {inl A} = λ f → Empty.rec (absurd-r f)</a>

<a id="3537" class="Comment">--   ↑oF : Functor C CoGraph</a>
<a id="3566" class="Comment">--   ↑oF .F-ob = inl</a>
<a id="3587" class="Comment">--   ↑oF .F-hom = ↑o</a>
<a id="3608" class="Comment">--   ↑oF .F-id = refl</a>
<a id="3630" class="Comment">--   ↑oF .F-seq f g = refl</a>

<a id="3658" class="Comment">--   ↑*F : Functor D CoGraph</a>
<a id="3687" class="Comment">--   ↑*F .F-ob = inr</a>
<a id="3708" class="Comment">--   ↑*F .F-hom = ↑*</a>
<a id="3729" class="Comment">--   ↑*F .F-id = refl</a>
<a id="3751" class="Comment">--   ↑*F .F-seq f g = refl</a>

<a id="3779" class="Comment">--   open ProfHom</a>
<a id="3797" class="Comment">--   ↑pH : ProfHom P ↑oF ↑*F (HomFunctor CoGraph)</a>
<a id="3847" class="Comment">--   ↑pH .R-hom b c = ↑p</a>
<a id="3872" class="Comment">--   ↑pH .R-nat b&#39; b c c&#39; f p g =</a>
<a id="3906" class="Comment">--     cong ↑p ((λ i → (P ⟪ C .⋆IdL f (~ i) , D .⋆IdL g (~ i) ⟫) p) ∙</a>
<a id="3976" class="Comment">--       (λ i → P .F-seq (f , (D .id)) ((C .id) , g) i p))</a>

<a id="4036" class="Comment">--   ↑pH-r : ProfHom (HomFunctor CoGraph ∘F ((↑oF ^opF) ×F ↑*F))</a>
<a id="4101" class="Comment">--                   (Id {C = C}) (Id {C = D}) P</a>
<a id="4150" class="Comment">--   ↑pH-r .R-hom b c = ↑p-r</a>
<a id="4179" class="Comment">--   ↑pH-r .R-nat b&#39; b c c&#39; f (↑p p) g =</a>
<a id="4220" class="Comment">--     (λ i → P .F-seq (f , (D .id)) ((C .id) , g) (~ i) p) ∙</a>
<a id="4282" class="Comment">--       λ i → P .F-hom (C .⋆IdL f i , D .⋆IdL g i) p</a>
</pre></body></html>