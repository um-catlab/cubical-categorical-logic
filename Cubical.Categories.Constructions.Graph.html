<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.Constructions.Graph</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- The graph of a profunctor</a>
<a id="30" class="Keyword">module</a> <a id="37" href="Cubical.Categories.Constructions.Graph.html" class="Module">Cubical.Categories.Constructions.Graph</a> <a id="76" class="Keyword">where</a>


<a id="84" class="Comment">-- private</a>
<a id="95" class="Comment">--   variable</a>
<a id="109" class="Comment">--     ℓC ℓC&#39; ℓD ℓD&#39; ℓS : Level</a>

<a id="142" class="Comment">-- open Category hiding (_∘_)</a>
<a id="172" class="Comment">-- open Functor</a>

<a id="189" class="Comment">-- -- Examples:</a>
<a id="205" class="Comment">-- module Graph {C : Category ℓC ℓC&#39;}{D : Category ℓD ℓD&#39;}</a>
<a id="264" class="Comment">--              (P : C o-[ ℓS ]-* D) where</a>
<a id="307" class="Comment">--   Element : Type _</a>
<a id="329" class="Comment">--   Element = Σ[ c ∈ C .ob ] Σ[ d ∈ D .ob ] (P ⟅ c , d ⟆) .fst</a>

<a id="394" class="Comment">--   Square : Element → Element → Type _</a>
<a id="435" class="Comment">--   Square (c , d , p) (c&#39; , d&#39; , p&#39;) =</a>
<a id="476" class="Comment">--     -- more convenient bc the rhs is a prop</a>
<a id="523" class="Comment">--     Σ[ (f , g) ∈ C [ c , c&#39; ] × D [ d , d&#39; ] ]</a>
<a id="573" class="Comment">--     P .F-hom ((C .id) , g) p ≡ P .F-hom (f , D .id) p&#39;</a>

<a id="632" class="Comment">--   Graph : Category _ _</a>
<a id="658" class="Comment">--   Graph .ob = Element</a>
<a id="683" class="Comment">--   Graph .Hom[_,_] = Square</a>
<a id="713" class="Comment">--   Graph .id = (C .id , D .id) , refl</a>
<a id="753" class="Comment">--   Graph ._⋆_ {x = p}{y = p&#39;}{z = p&#39;&#39;} ((f , g) , comm) ((f&#39; , g&#39;) , comm&#39;) =</a>
<a id="833" class="Comment">--     -- Time to implement a profunctor solver I guess lol</a>
<a id="893" class="Comment">--     (f ⋆⟨ C ⟩ f&#39; , g ⋆⟨ D ⟩ g&#39;) ,</a>
<a id="930" class="Comment">--     (P .F-hom (C .id , g ⋆⟨ D ⟩ g&#39;) (p .snd .snd)</a>
<a id="983" class="Comment">--       ≡[ i ]⟨ P .F-hom (C .⋆IdR (C .id) (~ i) , g ⋆⟨ D ⟩ g&#39;) (p .snd .snd) ⟩</a>
<a id="1063" class="Comment">--      P .F-hom (C .id ⋆⟨ C ⟩ C .id , g ⋆⟨ D ⟩ g&#39;) (p .snd .snd)</a>
<a id="1129" class="Comment">--       ≡[ i ]⟨ P .F-seq (C .id , g) (C .id , g&#39;) i (p .snd .snd) ⟩</a>
<a id="1198" class="Comment">--      P .F-hom (C .id , g&#39;) (P .F-hom (C .id , g) (p .snd .snd))</a>
<a id="1265" class="Comment">--       ≡[ i ]⟨ P .F-hom (C .id , g&#39;) (comm i) ⟩</a>
<a id="1315" class="Comment">--      P .F-hom (C .id , g&#39;) (P .F-hom (f , D .id) (p&#39; .snd .snd))</a>
<a id="1383" class="Comment">--       ≡[ i ]⟨ P .F-seq (f , D .id) (C .id , g&#39;) (~ i) (p&#39; .snd .snd) ⟩</a>
<a id="1457" class="Comment">--      P .F-hom (C .id ⋆⟨ C ⟩ f , D .id ⋆⟨ D ⟩ g&#39;) (p&#39; .snd .snd)</a>
<a id="1524" class="Comment">--       ≡[ i ]⟨ P .F-hom (C .⋆IdL f i , D .⋆IdL g&#39; i) (p&#39; .snd .snd) ⟩</a>
<a id="1596" class="Comment">--      P .F-hom (f , g&#39;) (p&#39; .snd .snd)</a>
<a id="1637" class="Comment">--       ≡[ i ]⟨ P .F-hom (C .⋆IdR f (~ i) , D .⋆IdR g&#39; (~ i)) (p&#39; .snd .snd) ⟩</a>
<a id="1717" class="Comment">--      P .F-hom (f ⋆⟨ C ⟩ C .id , g&#39; ⋆⟨ D ⟩ D .id) (p&#39; .snd .snd)</a>
<a id="1784" class="Comment">--        ≡[ i ]⟨ P .F-seq (C .id , g&#39;) (f , D .id) i (p&#39; .snd .snd) ⟩</a>
<a id="1855" class="Comment">--      P .F-hom (f , D .id) (P .F-hom (C .id , g&#39;) (p&#39; .snd .snd))</a>
<a id="1923" class="Comment">--       ≡[ i ]⟨ P .F-hom (f , D .id) (comm&#39; i) ⟩</a>
<a id="1973" class="Comment">--      P .F-hom (f , D .id) (P .F-hom (f&#39; , (D .id)) (p&#39;&#39; .snd .snd))</a>
<a id="2044" class="Comment">--       ≡[ i ]⟨ P .F-seq (f&#39; , (D .id)) (f , (D .id)) (~ i) (p&#39;&#39; .snd .snd) ⟩</a>
<a id="2123" class="Comment">--      P .F-hom (f ⋆⟨ C ⟩ f&#39; , D .id ⋆⟨ D ⟩ D .id) (p&#39;&#39; .snd .snd)</a>
<a id="2191" class="Comment">--       ≡[ i ]⟨ P .F-hom (f ⋆⟨ C ⟩ f&#39; , D .⋆IdR (D .id) i) (p&#39;&#39; .snd .snd) ⟩</a>
<a id="2269" class="Comment">--      P .F-hom (f ⋆⟨ C ⟩ f&#39; , D .id) (p&#39;&#39; .snd .snd)</a>
<a id="2324" class="Comment">--      ∎)</a>
<a id="2335" class="Comment">--   Graph .⋆IdL ((f , g), comm) =</a>
<a id="2370" class="Comment">--     Σ≡Prop (λ x → P .F-ob _ .snd _ _) (≡-× (C .⋆IdL f) (D .⋆IdL g))</a>
<a id="2441" class="Comment">--   Graph .⋆IdR ((f , g), comm) =</a>
<a id="2476" class="Comment">--     Σ≡Prop (λ x → P .F-ob _ .snd _ _) (≡-× (C .⋆IdR f) (D .⋆IdR g))</a>
<a id="2547" class="Comment">--   Graph .⋆Assoc ((f , g) , comm) ((f&#39; , g&#39;) , comm&#39;) ((f&#39;&#39; , g&#39;&#39;) , comm&#39;&#39;) =</a>
<a id="2628" class="Comment">--     Σ≡Prop (λ x → P .F-ob _ .snd _ _)</a>
<a id="2669" class="Comment">--            (≡-× (C .⋆Assoc f f&#39; f&#39;&#39;) (D .⋆Assoc g g&#39; g&#39;&#39;))</a>
<a id="2731" class="Comment">--   Graph .isSetHom =</a>
<a id="2754" class="Comment">--     isSetΣ (isSet× (C .isSetHom) (D .isSetHom)) λ x →</a>
<a id="2811" class="Comment">--       isProp→isSet (P .F-ob _ .snd _ _)</a>

<a id="2855" class="Comment">--   -- TODO: isUnivalent if C, D are</a>
</pre></body></html>