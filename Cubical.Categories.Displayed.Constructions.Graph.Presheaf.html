<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.Displayed.Constructions.Graph.Presheaf</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-
  The Tabulator of a profunctor specializes to the displayed category of elements of a presheaf.
-}</a>

<a id="105" class="Keyword">module</a> <a id="112" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html" class="Module">Cubical.Categories.Displayed.Constructions.Graph.Presheaf</a> <a id="170" class="Keyword">where</a>

<a id="177" class="Keyword">open</a> <a id="182" class="Keyword">import</a> <a id="189" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="Cubical.Foundations.Structure.html" class="Module">Cubical.Foundations.Structure</a>

<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Cubical.Categories.Category.Base.html" class="Module">Cubical.Categories.Category.Base</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Cubical.Categories.Constructions.BinProduct.html" class="Module">Cubical.Categories.Constructions.BinProduct</a> <a id="470" class="Symbol">as</a> <a id="473" class="Module">BP</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Cubical.Categories.Functor.Base.html" class="Module">Cubical.Categories.Functor.Base</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Cubical.Categories.Presheaf.html" class="Module">Cubical.Categories.Presheaf</a> <a id="560" class="Keyword">hiding</a> <a id="567" class="Symbol">(</a><a id="568" href="Cubical.Categories.Presheaf.Representable.html#2284" class="Function">Elements</a><a id="576" class="Symbol">)</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Cubical.Categories.Presheaf.More.html" class="Module">Cubical.Categories.Presheaf.More</a>
<a id="623" class="Keyword">open</a> <a id="628" class="Keyword">import</a> <a id="635" href="Cubical.Categories.Instances.Sets.html" class="Module">Cubical.Categories.Instances.Sets</a>
<a id="669" class="Keyword">open</a> <a id="674" class="Keyword">import</a> <a id="681" href="Cubical.Categories.Constructions.TotalCategory.html" class="Module">Cubical.Categories.Constructions.TotalCategory</a> <a id="728" class="Symbol">as</a> <a id="731" class="Module">TotalCat</a>

<a id="741" class="Keyword">open</a> <a id="746" class="Keyword">import</a> <a id="753" href="Cubical.Categories.Displayed.Base.html" class="Module">Cubical.Categories.Displayed.Base</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Cubical.Categories.Displayed.HLevels.html" class="Module">Cubical.Categories.Displayed.HLevels</a>
<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Cubical.Categories.Displayed.Functor.html" class="Module">Cubical.Categories.Displayed.Functor</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="Cubical.Categories.Displayed.Constructions.StructureOver.html" class="Module">Cubical.Categories.Displayed.Constructions.StructureOver</a>

<a id="955" class="Keyword">private</a>
  <a id="965" class="Keyword">variable</a>
    <a id="978" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#978" class="Generalizable">ℓC</a> <a id="981" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#981" class="Generalizable">ℓC&#39;</a> <a id="985" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#985" class="Generalizable">ℓD</a> <a id="988" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#988" class="Generalizable">ℓD&#39;</a> <a id="992" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#992" class="Generalizable">ℓP</a> <a id="995" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#995" class="Generalizable">ℓS</a> <a id="998" class="Symbol">:</a> <a id="1000" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="1007" class="Keyword">open</a> <a id="1012" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a>
<a id="1021" class="Keyword">open</a> <a id="1026" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#527" class="Module">StructureOver</a>
<a id="1040" class="Keyword">open</a> <a id="1045" href="Cubical.Categories.Functor.Base.html#418" class="Module">Functor</a>

<a id="1054" class="Keyword">module</a> <a id="1061" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1061" class="Module">_</a> <a id="1063" class="Symbol">{</a><a id="1064" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1064" class="Bound">C</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Cubical.Categories.Category.Base.html#311" class="Record">Category</a> <a id="1077" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#978" class="Generalizable">ℓC</a> <a id="1080" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#981" class="Generalizable">ℓC&#39;</a><a id="1083" class="Symbol">}</a> <a id="1085" class="Symbol">(</a><a id="1086" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1086" class="Bound">P</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Cubical.Categories.Presheaf.Base.html#310" class="Function">Presheaf</a> <a id="1099" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1064" class="Bound">C</a> <a id="1101" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#992" class="Generalizable">ℓP</a><a id="1103" class="Symbol">)</a> <a id="1105" class="Keyword">where</a>
  <a id="1113" class="Keyword">private</a>
    <a id="1125" class="Keyword">module</a> <a id="1132" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1132" class="Module">P</a> <a id="1134" class="Symbol">=</a> <a id="1136" href="Cubical.Categories.Presheaf.More.html#2567" class="Module">PresheafNotation</a> <a id="1153" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1086" class="Bound">P</a>
  <a id="1157" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1157" class="Function">Elements</a> <a id="1166" class="Symbol">:</a> <a id="1168" href="Cubical.Categories.Displayed.Base.html#370" class="Record">Categoryᴰ</a> <a id="1178" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1064" class="Bound">C</a> <a id="1180" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1101" class="Bound">ℓP</a> <a id="1183" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1101" class="Bound">ℓP</a>
  <a id="1188" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1157" class="Function">Elements</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#1150" class="Function">StructureOver→Catᴰ</a> <a id="1218" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1222" class="Keyword">where</a>
    <a id="1232" class="Keyword">open</a> <a id="1237" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#527" class="Module">StructureOver</a>
    <a id="1255" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#527" class="Record">StructureOver</a> <a id="1275" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1064" class="Bound">C</a> <a id="1277" class="Symbol">_</a> <a id="1279" class="Symbol">_</a>
    <a id="1285" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1289" class="Symbol">.</a><a id="1290" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#665" class="Field Operator">ob[_]</a> <a id="1296" class="Symbol">=</a> <a id="1298" href="Cubical.Categories.Presheaf.More.html#2697" class="Function Operator">P.p[_]</a>
    <a id="1309" class="Comment">-- this version lines up definitionally with fiber. See test-Elements below</a>
    <a id="1389" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1393" class="Symbol">.</a><a id="1394" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#691" class="Field Operator">Hom[_][_,_]</a> <a id="1406" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1406" class="Bound">f</a> <a id="1408" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1408" class="Bound">p</a> <a id="1410" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1410" class="Bound">q</a> <a id="1412" class="Symbol">=</a> <a id="1414" class="Symbol">(</a><a id="1415" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1406" class="Bound">f</a> <a id="1417" href="Cubical.Categories.Presheaf.More.html#2745" class="Function Operator">P.⋆</a> <a id="1421" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1410" class="Bound">q</a><a id="1422" class="Symbol">)</a> <a id="1424" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="1426" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1408" class="Bound">p</a>
    <a id="1432" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1436" class="Symbol">.</a><a id="1437" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#767" class="Field">idᴰ</a> <a id="1441" class="Symbol">=</a> <a id="1443" href="Cubical.Categories.Presheaf.More.html#2825" class="Function">P.⋆IdL</a> <a id="1450" class="Symbol">_</a>
    <a id="1456" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1460" class="Symbol">.</a><a id="1461" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#818" class="Field Operator">_⋆ᴰ_</a> <a id="1466" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1466" class="Bound">fy≡x</a> <a id="1471" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1471" class="Bound">gz≡y</a> <a id="1476" class="Symbol">=</a> <a id="1478" href="Cubical.Categories.Presheaf.More.html#2896" class="Function">P.⋆Assoc</a> <a id="1487" class="Symbol">_</a> <a id="1489" class="Symbol">_</a> <a id="1491" class="Symbol">_</a> <a id="1493" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="1495" href="Cubical.Foundations.Prelude.html#1407" class="Function">cong</a> <a id="1500" class="Symbol">(_</a> <a id="1503" href="Cubical.Categories.Presheaf.More.html#2745" class="Function Operator">P.⋆_</a><a id="1507" class="Symbol">)</a> <a id="1509" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1471" class="Bound">gz≡y</a> <a id="1514" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="1516" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1466" class="Bound">fy≡x</a>
    <a id="1525" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1255" class="Function">Str</a> <a id="1529" class="Symbol">.</a><a id="1530" href="Cubical.Categories.Displayed.Constructions.StructureOver.Base.html#964" class="Field">isPropHomᴰ</a> <a id="1541" class="Symbol">=</a> <a id="1543" href="Cubical.Categories.Presheaf.More.html#3417" class="Function">P.isSetPsh</a> <a id="1554" class="Symbol">_</a> <a id="1556" class="Symbol">_</a>

  <a id="1561" class="Keyword">private</a>
    <a id="1573" class="Keyword">module</a> <a id="1580" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1580" class="Module">∫Elements</a> <a id="1590" class="Symbol">=</a> <a id="1592" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a> <a id="1601" class="Symbol">(</a><a id="1602" href="Cubical.Categories.Constructions.TotalCategory.Base.html#623" class="Function">∫C</a> <a id="1605" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1157" class="Function">Elements</a><a id="1613" class="Symbol">)</a>
    <a id="1619" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1619" class="Function">test-Elements</a> <a id="1633" class="Symbol">:</a> <a id="1635" class="Symbol">∀</a> <a id="1637" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1637" class="Bound">x</a> <a id="1639" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1639" class="Bound">p</a> <a id="1641" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1641" class="Bound">y</a> <a id="1643" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1643" class="Bound">q</a>
      <a id="1651" class="Symbol">→</a> <a id="1653" href="Cubical.Categories.Category.Base.html#445" class="Function Operator">∫Elements.Hom[</a> <a id="1668" class="Symbol">(</a><a id="1669" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1637" class="Bound">x</a> <a id="1671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1673" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1639" class="Bound">p</a><a id="1674" class="Symbol">)</a> <a id="1676" href="Cubical.Categories.Category.Base.html#445" class="Function Operator">,</a> <a id="1678" class="Symbol">(</a><a id="1679" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1641" class="Bound">y</a> <a id="1681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1683" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1643" class="Bound">q</a><a id="1684" class="Symbol">)</a> <a id="1686" href="Cubical.Categories.Category.Base.html#445" class="Function Operator">]</a> <a id="1688" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="1690" href="Cubical.Foundations.Equiv.Base.html#230" class="Function">fiber</a> <a id="1696" class="Symbol">(</a><a id="1697" href="Cubical.Categories.Presheaf.More.html#2745" class="Function Operator">P._⋆</a> <a id="1702" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1643" class="Bound">q</a><a id="1703" class="Symbol">)</a> <a id="1705" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1639" class="Bound">p</a>
    <a id="1711" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1619" class="Function">test-Elements</a> <a id="1725" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1725" class="Bound">x</a> <a id="1727" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1727" class="Bound">p</a> <a id="1729" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1729" class="Bound">y</a> <a id="1731" href="Cubical.Categories.Displayed.Constructions.Graph.Presheaf.html#1731" class="Bound">q</a> <a id="1733" class="Symbol">=</a> <a id="1735" href="Cubical.Foundations.Prelude.html#892" class="Function">refl</a>
</pre></body></html>