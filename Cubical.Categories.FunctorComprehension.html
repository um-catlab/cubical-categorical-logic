<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.FunctorComprehension</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--lossy-unification</a> <a id="33" class="Symbol">#-}</a>
<a id="37" class="Comment">{--
 -- Functor Comprehension
 -- ======================
 -- This module provides a method for constructing functors by showing
 -- that they have a universal property.
 --
 -- The idea is that if you wish to define a functor F : C → D via a
 -- universal property (P c), then the functoriality of F comes for
 -- free if the universal property P is given functorially, that is if
 -- P is a functor P : C → Psh D
 --
 -- That is, if you construct for each c a universal element of P c,
 -- then this can be *uniquely* extended to a functorial action on
 -- morphisms, and furthermore you get that the universal elements so
 -- constructed are natural with respect to this functorial action.
 -- We provide this data in this module in two equivalent forms:
 -- 1. A &quot;natural element&quot; ∀ c → P c (F c)
 -- 2. A natural isomorphism (Y ∘ F ≅ P)
 --
 -- The fact is essentially a corollary of the Yoneda lemma, but we
 --
 -- Constructing a functor in this method saves a lot of work in
 -- repeatedly demonstrating functoriality
 --
 --}</a>
<a id="1071" class="Keyword">module</a> <a id="1078" href="Cubical.Categories.FunctorComprehension.html" class="Module">Cubical.Categories.FunctorComprehension</a> <a id="1118" class="Keyword">where</a>

<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="1165" class="Keyword">open</a> <a id="1170" class="Keyword">import</a> <a id="1177" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>

<a id="1207" class="Keyword">open</a> <a id="1212" class="Keyword">import</a> <a id="1219" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>

<a id="1239" class="Keyword">open</a> <a id="1244" class="Keyword">import</a> <a id="1251" href="Cubical.Categories.Category.html" class="Module">Cubical.Categories.Category</a>
<a id="1279" class="Keyword">open</a> <a id="1284" class="Keyword">import</a> <a id="1291" href="Cubical.Categories.Functor.html" class="Module">Cubical.Categories.Functor</a>
<a id="1318" class="Keyword">open</a> <a id="1323" class="Keyword">import</a> <a id="1330" href="Cubical.Categories.NaturalTransformation.html" class="Module">Cubical.Categories.NaturalTransformation</a>
<a id="1371" class="Keyword">open</a> <a id="1376" class="Keyword">import</a> <a id="1383" href="Cubical.Categories.Presheaf.Representable.html" class="Module">Cubical.Categories.Presheaf.Representable</a>
<a id="1425" class="Keyword">open</a> <a id="1430" class="Keyword">import</a> <a id="1437" href="Cubical.Categories.Presheaf.Representable.More.html" class="Module">Cubical.Categories.Presheaf.Representable.More</a>
<a id="1484" class="Keyword">open</a> <a id="1489" class="Keyword">import</a> <a id="1496" href="Cubical.Categories.Presheaf.More.html" class="Module">Cubical.Categories.Presheaf.More</a>
<a id="1529" class="Keyword">open</a> <a id="1534" class="Keyword">import</a> <a id="1541" href="Cubical.Categories.Profunctor.General.html" class="Module">Cubical.Categories.Profunctor.General</a>

<a id="1580" class="Keyword">private</a>
  <a id="1590" class="Keyword">variable</a>
    <a id="1603" href="Cubical.Categories.FunctorComprehension.html#1603" class="Generalizable">ℓC</a> <a id="1606" href="Cubical.Categories.FunctorComprehension.html#1606" class="Generalizable">ℓC&#39;</a> <a id="1610" href="Cubical.Categories.FunctorComprehension.html#1610" class="Generalizable">ℓD</a> <a id="1613" href="Cubical.Categories.FunctorComprehension.html#1613" class="Generalizable">ℓD&#39;</a> <a id="1617" href="Cubical.Categories.FunctorComprehension.html#1617" class="Generalizable">ℓS</a> <a id="1620" href="Cubical.Categories.FunctorComprehension.html#1620" class="Generalizable">ℓR</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="1632" class="Keyword">open</a> <a id="1637" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a>
<a id="1646" class="Keyword">open</a> <a id="1651" href="Cubical.Categories.Functor.Base.html#418" class="Module">Functor</a>
<a id="1659" class="Keyword">open</a> <a id="1664" href="Cubical.Categories.NaturalTransformation.Base.html#1233" class="Module">NatTrans</a>
<a id="1673" class="Keyword">open</a> <a id="1678" href="Cubical.Categories.Presheaf.Representable.html#2863" class="Module">UniversalElement</a>
<a id="1695" class="Keyword">open</a> <a id="1700" href="Cubical.Categories.Presheaf.Representable.More.html#2786" class="Module">UniversalElementNotation</a>

<a id="1726" class="Keyword">module</a> <a id="1733" href="Cubical.Categories.FunctorComprehension.html#1733" class="Module">_</a> <a id="1735" class="Symbol">{</a><a id="1736" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">C</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="Cubical.Categories.Category.Base.html#311" class="Record">Category</a> <a id="1749" href="Cubical.Categories.FunctorComprehension.html#1603" class="Generalizable">ℓC</a> <a id="1752" href="Cubical.Categories.FunctorComprehension.html#1606" class="Generalizable">ℓC&#39;</a><a id="1755" class="Symbol">}{</a><a id="1757" href="Cubical.Categories.FunctorComprehension.html#1757" class="Bound">D</a> <a id="1759" class="Symbol">:</a> <a id="1761" href="Cubical.Categories.Category.Base.html#311" class="Record">Category</a> <a id="1770" href="Cubical.Categories.FunctorComprehension.html#1610" class="Generalizable">ℓD</a> <a id="1773" href="Cubical.Categories.FunctorComprehension.html#1613" class="Generalizable">ℓD&#39;</a><a id="1776" class="Symbol">}</a>
         <a id="1787" class="Symbol">(</a><a id="1788" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="Cubical.Categories.Profunctor.General.html#544" class="Function">Profunctor</a> <a id="1803" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">C</a> <a id="1805" href="Cubical.Categories.FunctorComprehension.html#1757" class="Bound">D</a> <a id="1807" href="Cubical.Categories.FunctorComprehension.html#1617" class="Generalizable">ℓS</a><a id="1809" class="Symbol">)</a>
         <a id="1820" class="Symbol">(</a><a id="1821" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="1825" class="Symbol">:</a> <a id="1827" href="Cubical.Categories.Profunctor.General.html#915" class="Function">UniversalElements</a> <a id="1845" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a><a id="1846" class="Symbol">)</a>
         <a id="1857" class="Keyword">where</a>
  <a id="1865" class="Keyword">private</a>
    <a id="1877" class="Keyword">module</a> <a id="1884" href="Cubical.Categories.FunctorComprehension.html#1884" class="Module">C</a> <a id="1886" class="Symbol">=</a> <a id="1888" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a> <a id="1897" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">C</a>
  <a id="1901" href="Cubical.Categories.FunctorComprehension.html#1901" class="Function">FunctorComprehension</a> <a id="1922" class="Symbol">:</a> <a id="1924" href="Cubical.Categories.Functor.Base.html#418" class="Record">Functor</a> <a id="1932" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">C</a> <a id="1934" href="Cubical.Categories.FunctorComprehension.html#1757" class="Bound">D</a>
  <a id="1938" href="Cubical.Categories.FunctorComprehension.html#1901" class="Function">FunctorComprehension</a> <a id="1959" class="Symbol">.</a><a id="1960" href="Cubical.Categories.Functor.Base.html#578" class="Field">F-ob</a> <a id="1965" href="Cubical.Categories.FunctorComprehension.html#1965" class="Bound">x</a> <a id="1967" class="Symbol">=</a> <a id="1969" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="1973" href="Cubical.Categories.FunctorComprehension.html#1965" class="Bound">x</a> <a id="1975" class="Symbol">.</a><a id="1976" href="Cubical.Categories.Presheaf.Representable.html#2934" class="Field">vertex</a>
  <a id="1985" href="Cubical.Categories.FunctorComprehension.html#1901" class="Function">FunctorComprehension</a> <a id="2006" class="Symbol">.</a><a id="2007" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2013" class="Symbol">{</a><a id="2014" href="Cubical.Categories.FunctorComprehension.html#2014" class="Bound">x</a><a id="2015" class="Symbol">}{</a><a id="2017" href="Cubical.Categories.FunctorComprehension.html#2017" class="Bound">y</a><a id="2018" class="Symbol">}</a> <a id="2020" href="Cubical.Categories.FunctorComprehension.html#2020" class="Bound">f</a> <a id="2022" class="Symbol">=</a>
    <a id="2028" href="Cubical.Categories.Presheaf.Representable.More.html#3500" class="Function">intro</a> <a id="2034" class="Symbol">(</a><a id="2035" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2039" href="Cubical.Categories.FunctorComprehension.html#2017" class="Bound">y</a><a id="2040" class="Symbol">)</a> <a id="2042" class="Symbol">((</a><a id="2044" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2046" href="Cubical.Categories.Functor.Base.html#3869" class="Function Operator">⟪</a> <a id="2048" href="Cubical.Categories.FunctorComprehension.html#2020" class="Bound">f</a> <a id="2050" href="Cubical.Categories.Functor.Base.html#3869" class="Function Operator">⟫</a><a id="2051" class="Symbol">)</a> <a id="2053" class="Symbol">.</a><a id="2054" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2059" class="Symbol">_</a> <a id="2061" class="Symbol">(</a><a id="2062" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2066" href="Cubical.Categories.FunctorComprehension.html#2014" class="Bound">x</a> <a id="2068" class="Symbol">.</a><a id="2069" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2076" class="Symbol">))</a>
  <a id="2081" href="Cubical.Categories.FunctorComprehension.html#1901" class="Function">FunctorComprehension</a> <a id="2102" class="Symbol">.</a><a id="2103" href="Cubical.Categories.Functor.Base.html#668" class="Field">F-id</a> <a id="2108" class="Symbol">{</a><a id="2109" href="Cubical.Categories.FunctorComprehension.html#2109" class="Bound">x</a><a id="2110" class="Symbol">}</a> <a id="2112" class="Symbol">=</a>
    <a id="2118" class="Symbol">(λ</a> <a id="2121" href="Cubical.Categories.FunctorComprehension.html#2121" class="Bound">i</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Cubical.Categories.Presheaf.Representable.More.html#3500" class="Function">intro</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2136" href="Cubical.Categories.FunctorComprehension.html#2109" class="Bound">x</a><a id="2137" class="Symbol">)</a> <a id="2139" class="Symbol">(</a><a id="2140" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2142" class="Symbol">.</a><a id="2143" href="Cubical.Categories.Functor.Base.html#668" class="Field">F-id</a> <a id="2148" href="Cubical.Categories.FunctorComprehension.html#2121" class="Bound">i</a> <a id="2150" class="Symbol">.</a><a id="2151" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2156" class="Symbol">_</a> <a id="2158" class="Symbol">(</a><a id="2159" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2163" href="Cubical.Categories.FunctorComprehension.html#2109" class="Bound">x</a> <a id="2165" class="Symbol">.</a><a id="2166" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2173" class="Symbol">)))</a>
    <a id="2181" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2188" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a> <a id="2190" href="Cubical.Categories.Presheaf.Representable.More.html#3906" class="Function">weak-η</a> <a id="2197" class="Symbol">(</a><a id="2198" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2202" href="Cubical.Categories.FunctorComprehension.html#2109" class="Bound">x</a><a id="2203" class="Symbol">))</a>
  <a id="2208" href="Cubical.Categories.FunctorComprehension.html#1901" class="Function">FunctorComprehension</a> <a id="2229" class="Symbol">.</a><a id="2230" href="Cubical.Categories.Functor.Base.html#729" class="Field">F-seq</a> <a id="2236" class="Symbol">{</a><a id="2237" href="Cubical.Categories.FunctorComprehension.html#2237" class="Bound">x</a><a id="2238" class="Symbol">}{</a><a id="2240" href="Cubical.Categories.FunctorComprehension.html#2240" class="Bound">y</a><a id="2241" class="Symbol">}{</a><a id="2243" href="Cubical.Categories.FunctorComprehension.html#2243" class="Bound">z</a><a id="2244" class="Symbol">}</a> <a id="2246" href="Cubical.Categories.FunctorComprehension.html#2246" class="Bound">f</a> <a id="2248" href="Cubical.Categories.FunctorComprehension.html#2248" class="Bound">g</a> <a id="2250" class="Symbol">=</a>
    <a id="2256" class="Symbol">((λ</a> <a id="2260" href="Cubical.Categories.FunctorComprehension.html#2260" class="Bound">i</a> <a id="2262" class="Symbol">→</a> <a id="2264" href="Cubical.Categories.Presheaf.Representable.More.html#3500" class="Function">intro</a> <a id="2270" class="Symbol">(</a><a id="2271" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2275" href="Cubical.Categories.FunctorComprehension.html#2243" class="Bound">z</a><a id="2276" class="Symbol">)</a> <a id="2278" class="Symbol">(</a><a id="2279" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2281" class="Symbol">.</a><a id="2282" href="Cubical.Categories.Functor.Base.html#729" class="Field">F-seq</a> <a id="2288" href="Cubical.Categories.FunctorComprehension.html#2246" class="Bound">f</a> <a id="2290" href="Cubical.Categories.FunctorComprehension.html#2248" class="Bound">g</a> <a id="2292" href="Cubical.Categories.FunctorComprehension.html#2260" class="Bound">i</a> <a id="2294" class="Symbol">.</a><a id="2295" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2300" class="Symbol">_</a> <a id="2302" class="Symbol">(</a><a id="2303" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2307" href="Cubical.Categories.FunctorComprehension.html#2237" class="Bound">x</a> <a id="2309" class="Symbol">.</a><a id="2310" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2317" class="Symbol">))))</a>
    <a id="2326" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2328" class="Symbol">(</a><a id="2329" href="Cubical.Foundations.Prelude.html#1407" class="Function">cong</a> <a id="2334" class="Symbol">(</a><a id="2335" href="Cubical.Categories.Presheaf.Representable.More.html#3500" class="Function">intro</a> <a id="2341" class="Symbol">(</a><a id="2342" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2346" href="Cubical.Categories.FunctorComprehension.html#2243" class="Bound">z</a><a id="2347" class="Symbol">))</a> <a id="2350" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a>
      <a id="2358" class="Symbol">((λ</a> <a id="2362" href="Cubical.Categories.FunctorComprehension.html#2362" class="Bound">i</a> <a id="2364" class="Symbol">→</a> <a id="2366" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2368" class="Symbol">.</a><a id="2369" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2375" href="Cubical.Categories.FunctorComprehension.html#2248" class="Bound">g</a> <a id="2377" class="Symbol">.</a><a id="2378" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2383" class="Symbol">_</a>
        <a id="2393" class="Symbol">(</a><a id="2394" href="Cubical.Categories.Presheaf.Representable.More.html#3687" class="Function">β</a> <a id="2396" class="Symbol">(</a><a id="2397" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2401" href="Cubical.Categories.FunctorComprehension.html#2240" class="Bound">y</a><a id="2402" class="Symbol">)</a> <a id="2404" class="Symbol">{</a><a id="2405" class="Argument">p</a> <a id="2407" class="Symbol">=</a> <a id="2409" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2411" class="Symbol">.</a><a id="2412" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2418" href="Cubical.Categories.FunctorComprehension.html#2246" class="Bound">f</a> <a id="2420" class="Symbol">.</a><a id="2421" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2426" class="Symbol">_</a> <a id="2428" class="Symbol">(</a><a id="2429" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2433" href="Cubical.Categories.FunctorComprehension.html#2237" class="Bound">x</a> <a id="2435" class="Symbol">.</a><a id="2436" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2443" class="Symbol">)}</a> <a id="2446" class="Symbol">(</a><a id="2447" href="Cubical.Core.Primitives.html#478" class="Primitive Operator">~</a> <a id="2449" href="Cubical.Categories.FunctorComprehension.html#2362" class="Bound">i</a><a id="2450" class="Symbol">))))</a>
      <a id="2461" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2463" href="Cubical.Foundations.Prelude.html#11583" class="Function">funExt⁻</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Cubical.Categories.FunctorComprehension.html#1788" class="Bound">P</a> <a id="2474" class="Symbol">.</a><a id="2475" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2481" href="Cubical.Categories.FunctorComprehension.html#2248" class="Bound">g</a> <a id="2483" class="Symbol">.</a><a id="2484" href="Cubical.Categories.NaturalTransformation.Base.html#1450" class="Field">N-hom</a> <a id="2490" class="Symbol">_)</a> <a id="2493" class="Symbol">_)</a>
    <a id="2500" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2507" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a> <a id="2509" href="Cubical.Categories.Presheaf.Representable.More.html#4346" class="Function">intro-natural</a> <a id="2523" class="Symbol">(</a><a id="2524" href="Cubical.Categories.FunctorComprehension.html#1821" class="Bound">ues</a> <a id="2528" href="Cubical.Categories.FunctorComprehension.html#2243" class="Bound">z</a><a id="2529" class="Symbol">))</a>
</pre></body></html>