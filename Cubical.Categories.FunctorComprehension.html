<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.FunctorComprehension</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--lossy-unification</a> <a id="40" class="Symbol">#-}</a>
<a id="44" class="Comment">{--
 -- Functor Comprehension
 -- ======================
 -- This module provides a method for constructing functors by showing
 -- that they have a universal property.
 --
 -- The idea is that if you wish to define a functor F : C → D via a
 -- universal property (P c), then the functoriality of F comes for
 -- free if the universal property P is given functorially, that is if
 -- P is a functor P : C → Psh D
 --
 -- That is, if you construct for each c a universal element of P c,
 -- then this can be *uniquely* extended to a functorial action on
 -- morphisms, and furthermore you get that the universal elements so
 -- constructed are natural with respect to this functorial action.
 -- We provide this data in this module in two equivalent forms:
 -- 1. A &quot;natural element&quot; ∀ c → P c (F c)
 -- 2. A natural isomorphism (Y ∘ F ≅ P)
 --
 -- The fact is essentially a corollary of the Yoneda lemma, but we
 --
 -- Constructing a functor in this method saves a lot of work in
 -- repeatedly demonstrating functoriality
 --
 --}</a>
<a id="1078" class="Keyword">module</a> <a id="1085" href="Cubical.Categories.FunctorComprehension.html" class="Module">Cubical.Categories.FunctorComprehension</a> <a id="1125" class="Keyword">where</a>

<a id="1132" class="Keyword">open</a> <a id="1137" class="Keyword">import</a> <a id="1144" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="1172" class="Keyword">open</a> <a id="1177" class="Keyword">import</a> <a id="1184" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>

<a id="1214" class="Keyword">open</a> <a id="1219" class="Keyword">import</a> <a id="1226" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>

<a id="1246" class="Keyword">open</a> <a id="1251" class="Keyword">import</a> <a id="1258" href="Cubical.Categories.Category.html" class="Module">Cubical.Categories.Category</a>
<a id="1286" class="Keyword">open</a> <a id="1291" class="Keyword">import</a> <a id="1298" href="Cubical.Categories.Functor.html" class="Module">Cubical.Categories.Functor</a>
<a id="1325" class="Keyword">open</a> <a id="1330" class="Keyword">import</a> <a id="1337" href="Cubical.Categories.NaturalTransformation.html" class="Module">Cubical.Categories.NaturalTransformation</a>
<a id="1378" class="Keyword">open</a> <a id="1383" class="Keyword">import</a> <a id="1390" href="Cubical.Categories.Presheaf.Representable.html" class="Module">Cubical.Categories.Presheaf.Representable</a>
<a id="1432" class="Keyword">open</a> <a id="1437" class="Keyword">import</a> <a id="1444" href="Cubical.Categories.Presheaf.More.html" class="Module">Cubical.Categories.Presheaf.More</a>
<a id="1477" class="Keyword">open</a> <a id="1482" class="Keyword">import</a> <a id="1489" href="Cubical.Categories.Profunctor.General.html" class="Module">Cubical.Categories.Profunctor.General</a>

<a id="1528" class="Keyword">private</a>
  <a id="1538" class="Keyword">variable</a>
    <a id="1551" href="Cubical.Categories.FunctorComprehension.html#1551" class="Generalizable">ℓC</a> <a id="1554" href="Cubical.Categories.FunctorComprehension.html#1554" class="Generalizable">ℓC&#39;</a> <a id="1558" href="Cubical.Categories.FunctorComprehension.html#1558" class="Generalizable">ℓD</a> <a id="1561" href="Cubical.Categories.FunctorComprehension.html#1561" class="Generalizable">ℓD&#39;</a> <a id="1565" href="Cubical.Categories.FunctorComprehension.html#1565" class="Generalizable">ℓS</a> <a id="1568" href="Cubical.Categories.FunctorComprehension.html#1568" class="Generalizable">ℓR</a> <a id="1571" class="Symbol">:</a> <a id="1573" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="1580" class="Keyword">open</a> <a id="1585" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a>
<a id="1594" class="Keyword">open</a> <a id="1599" href="Cubical.Categories.Functor.Base.html#418" class="Module">Functor</a>
<a id="1607" class="Keyword">open</a> <a id="1612" href="Cubical.Categories.NaturalTransformation.Base.html#1233" class="Module">NatTrans</a>
<a id="1621" class="Keyword">open</a> <a id="1626" href="Cubical.Categories.Presheaf.Representable.html#2863" class="Module">UniversalElement</a>
<a id="1643" class="Keyword">open</a> <a id="1648" href="Cubical.Categories.Presheaf.More.html#3248" class="Module">UniversalElementNotation</a>

<a id="1674" class="Keyword">module</a> <a id="1681" href="Cubical.Categories.FunctorComprehension.html#1681" class="Module">_</a> <a id="1683" class="Symbol">{</a><a id="1684" href="Cubical.Categories.FunctorComprehension.html#1684" class="Bound">C</a> <a id="1686" class="Symbol">:</a> <a id="1688" href="Cubical.Categories.Category.Base.html#311" class="Record">Category</a> <a id="1697" href="Cubical.Categories.FunctorComprehension.html#1551" class="Generalizable">ℓC</a> <a id="1700" href="Cubical.Categories.FunctorComprehension.html#1554" class="Generalizable">ℓC&#39;</a><a id="1703" class="Symbol">}{</a><a id="1705" href="Cubical.Categories.FunctorComprehension.html#1705" class="Bound">D</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="Cubical.Categories.Category.Base.html#311" class="Record">Category</a> <a id="1718" href="Cubical.Categories.FunctorComprehension.html#1558" class="Generalizable">ℓD</a> <a id="1721" href="Cubical.Categories.FunctorComprehension.html#1561" class="Generalizable">ℓD&#39;</a><a id="1724" class="Symbol">}</a>
         <a id="1735" class="Symbol">(</a><a id="1736" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="Cubical.Categories.Profunctor.General.html#567" class="Function">Profunctor</a> <a id="1751" href="Cubical.Categories.FunctorComprehension.html#1684" class="Bound">C</a> <a id="1753" href="Cubical.Categories.FunctorComprehension.html#1705" class="Bound">D</a> <a id="1755" href="Cubical.Categories.FunctorComprehension.html#1565" class="Generalizable">ℓS</a><a id="1757" class="Symbol">)</a>
         <a id="1768" class="Symbol">(</a><a id="1769" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="1773" class="Symbol">:</a> <a id="1775" href="Cubical.Categories.Profunctor.General.html#938" class="Function">UniversalElements</a> <a id="1793" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a><a id="1794" class="Symbol">)</a>
         <a id="1805" class="Keyword">where</a>
  <a id="1813" class="Keyword">private</a>
    <a id="1825" class="Keyword">module</a> <a id="1832" href="Cubical.Categories.FunctorComprehension.html#1832" class="Module">C</a> <a id="1834" class="Symbol">=</a> <a id="1836" href="Cubical.Categories.Category.Base.html#311" class="Module">Category</a> <a id="1845" href="Cubical.Categories.FunctorComprehension.html#1684" class="Bound">C</a>
  <a id="1849" href="Cubical.Categories.FunctorComprehension.html#1849" class="Function">FunctorComprehension</a> <a id="1870" class="Symbol">:</a> <a id="1872" href="Cubical.Categories.Functor.Base.html#418" class="Record">Functor</a> <a id="1880" href="Cubical.Categories.FunctorComprehension.html#1684" class="Bound">C</a> <a id="1882" href="Cubical.Categories.FunctorComprehension.html#1705" class="Bound">D</a>
  <a id="1886" href="Cubical.Categories.FunctorComprehension.html#1849" class="Function">FunctorComprehension</a> <a id="1907" class="Symbol">.</a><a id="1908" href="Cubical.Categories.Functor.Base.html#578" class="Field">F-ob</a> <a id="1913" href="Cubical.Categories.FunctorComprehension.html#1913" class="Bound">x</a> <a id="1915" class="Symbol">=</a> <a id="1917" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="1921" href="Cubical.Categories.FunctorComprehension.html#1913" class="Bound">x</a> <a id="1923" class="Symbol">.</a><a id="1924" href="Cubical.Categories.Presheaf.Representable.html#2934" class="Field">vertex</a>
  <a id="1933" href="Cubical.Categories.FunctorComprehension.html#1849" class="Function">FunctorComprehension</a> <a id="1954" class="Symbol">.</a><a id="1955" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="1961" class="Symbol">{</a><a id="1962" href="Cubical.Categories.FunctorComprehension.html#1962" class="Bound">x</a><a id="1963" class="Symbol">}{</a><a id="1965" href="Cubical.Categories.FunctorComprehension.html#1965" class="Bound">y</a><a id="1966" class="Symbol">}</a> <a id="1968" href="Cubical.Categories.FunctorComprehension.html#1968" class="Bound">f</a> <a id="1970" class="Symbol">=</a>
    <a id="1976" href="Cubical.Categories.Presheaf.More.html#3996" class="Function">intro</a> <a id="1982" class="Symbol">(</a><a id="1983" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="1987" href="Cubical.Categories.FunctorComprehension.html#1965" class="Bound">y</a><a id="1988" class="Symbol">)</a> <a id="1990" class="Symbol">((</a><a id="1992" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="1994" href="Cubical.Categories.Functor.Base.html#3869" class="Function Operator">⟪</a> <a id="1996" href="Cubical.Categories.FunctorComprehension.html#1968" class="Bound">f</a> <a id="1998" href="Cubical.Categories.Functor.Base.html#3869" class="Function Operator">⟫</a><a id="1999" class="Symbol">)</a> <a id="2001" class="Symbol">.</a><a id="2002" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">(</a><a id="2010" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2014" href="Cubical.Categories.FunctorComprehension.html#1962" class="Bound">x</a> <a id="2016" class="Symbol">.</a><a id="2017" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2024" class="Symbol">))</a>
  <a id="2029" href="Cubical.Categories.FunctorComprehension.html#1849" class="Function">FunctorComprehension</a> <a id="2050" class="Symbol">.</a><a id="2051" href="Cubical.Categories.Functor.Base.html#668" class="Field">F-id</a> <a id="2056" class="Symbol">{</a><a id="2057" href="Cubical.Categories.FunctorComprehension.html#2057" class="Bound">x</a><a id="2058" class="Symbol">}</a> <a id="2060" class="Symbol">=</a>
    <a id="2066" class="Symbol">(λ</a> <a id="2069" href="Cubical.Categories.FunctorComprehension.html#2069" class="Bound">i</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="Cubical.Categories.Presheaf.More.html#3996" class="Function">intro</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2084" href="Cubical.Categories.FunctorComprehension.html#2057" class="Bound">x</a><a id="2085" class="Symbol">)</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="2090" class="Symbol">.</a><a id="2091" href="Cubical.Categories.Functor.Base.html#668" class="Field">F-id</a> <a id="2096" href="Cubical.Categories.FunctorComprehension.html#2069" class="Bound">i</a> <a id="2098" class="Symbol">.</a><a id="2099" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2104" class="Symbol">_</a> <a id="2106" class="Symbol">(</a><a id="2107" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2111" href="Cubical.Categories.FunctorComprehension.html#2057" class="Bound">x</a> <a id="2113" class="Symbol">.</a><a id="2114" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2121" class="Symbol">)))</a>
    <a id="2129" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2136" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a> <a id="2138" href="Cubical.Categories.Presheaf.More.html#4390" class="Function">weak-η</a> <a id="2145" class="Symbol">(</a><a id="2146" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2150" href="Cubical.Categories.FunctorComprehension.html#2057" class="Bound">x</a><a id="2151" class="Symbol">))</a>
  <a id="2156" href="Cubical.Categories.FunctorComprehension.html#1849" class="Function">FunctorComprehension</a> <a id="2177" class="Symbol">.</a><a id="2178" href="Cubical.Categories.Functor.Base.html#729" class="Field">F-seq</a> <a id="2184" class="Symbol">{</a><a id="2185" href="Cubical.Categories.FunctorComprehension.html#2185" class="Bound">x</a><a id="2186" class="Symbol">}{</a><a id="2188" href="Cubical.Categories.FunctorComprehension.html#2188" class="Bound">y</a><a id="2189" class="Symbol">}{</a><a id="2191" href="Cubical.Categories.FunctorComprehension.html#2191" class="Bound">z</a><a id="2192" class="Symbol">}</a> <a id="2194" href="Cubical.Categories.FunctorComprehension.html#2194" class="Bound">f</a> <a id="2196" href="Cubical.Categories.FunctorComprehension.html#2196" class="Bound">g</a> <a id="2198" class="Symbol">=</a>
    <a id="2204" class="Symbol">((λ</a> <a id="2208" href="Cubical.Categories.FunctorComprehension.html#2208" class="Bound">i</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Cubical.Categories.Presheaf.More.html#3996" class="Function">intro</a> <a id="2218" class="Symbol">(</a><a id="2219" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2223" href="Cubical.Categories.FunctorComprehension.html#2191" class="Bound">z</a><a id="2224" class="Symbol">)</a> <a id="2226" class="Symbol">(</a><a id="2227" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="2229" class="Symbol">.</a><a id="2230" href="Cubical.Categories.Functor.Base.html#729" class="Field">F-seq</a> <a id="2236" href="Cubical.Categories.FunctorComprehension.html#2194" class="Bound">f</a> <a id="2238" href="Cubical.Categories.FunctorComprehension.html#2196" class="Bound">g</a> <a id="2240" href="Cubical.Categories.FunctorComprehension.html#2208" class="Bound">i</a> <a id="2242" class="Symbol">.</a><a id="2243" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2248" class="Symbol">_</a> <a id="2250" class="Symbol">(</a><a id="2251" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2255" href="Cubical.Categories.FunctorComprehension.html#2185" class="Bound">x</a> <a id="2257" class="Symbol">.</a><a id="2258" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2265" class="Symbol">))))</a>
    <a id="2274" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2276" class="Symbol">(</a><a id="2277" href="Cubical.Foundations.Prelude.html#1407" class="Function">cong</a> <a id="2282" class="Symbol">(</a><a id="2283" href="Cubical.Categories.Presheaf.More.html#3996" class="Function">intro</a> <a id="2289" class="Symbol">(</a><a id="2290" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2294" href="Cubical.Categories.FunctorComprehension.html#2191" class="Bound">z</a><a id="2295" class="Symbol">))</a> <a id="2298" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a>
      <a id="2306" class="Symbol">((λ</a> <a id="2310" href="Cubical.Categories.FunctorComprehension.html#2310" class="Bound">i</a> <a id="2312" class="Symbol">→</a> <a id="2314" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="2316" class="Symbol">.</a><a id="2317" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2323" href="Cubical.Categories.FunctorComprehension.html#2196" class="Bound">g</a> <a id="2325" class="Symbol">.</a><a id="2326" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2331" class="Symbol">_</a>
        <a id="2341" class="Symbol">(</a><a id="2342" href="Cubical.Categories.Presheaf.More.html#4179" class="Function">β</a> <a id="2344" class="Symbol">(</a><a id="2345" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2349" href="Cubical.Categories.FunctorComprehension.html#2188" class="Bound">y</a><a id="2350" class="Symbol">)</a> <a id="2352" class="Symbol">{</a><a id="2353" class="Argument">p</a> <a id="2355" class="Symbol">=</a> <a id="2357" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="2359" class="Symbol">.</a><a id="2360" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2366" href="Cubical.Categories.FunctorComprehension.html#2194" class="Bound">f</a> <a id="2368" class="Symbol">.</a><a id="2369" href="Cubical.Categories.NaturalTransformation.Base.html#1393" class="Field">N-ob</a> <a id="2374" class="Symbol">_</a> <a id="2376" class="Symbol">(</a><a id="2377" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2381" href="Cubical.Categories.FunctorComprehension.html#2185" class="Bound">x</a> <a id="2383" class="Symbol">.</a><a id="2384" href="Cubical.Categories.Presheaf.Representable.html#2955" class="Field">element</a><a id="2391" class="Symbol">)}</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Cubical.Core.Primitives.html#478" class="Primitive Operator">~</a> <a id="2397" href="Cubical.Categories.FunctorComprehension.html#2310" class="Bound">i</a><a id="2398" class="Symbol">))))</a>
      <a id="2409" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2411" href="Cubical.Foundations.Prelude.html#11583" class="Function">funExt⁻</a> <a id="2419" class="Symbol">(</a><a id="2420" href="Cubical.Categories.FunctorComprehension.html#1736" class="Bound">P</a> <a id="2422" class="Symbol">.</a><a id="2423" href="Cubical.Categories.Functor.Base.html#604" class="Field">F-hom</a> <a id="2429" href="Cubical.Categories.FunctorComprehension.html#2196" class="Bound">g</a> <a id="2431" class="Symbol">.</a><a id="2432" href="Cubical.Categories.NaturalTransformation.Base.html#1450" class="Field">N-hom</a> <a id="2438" class="Symbol">_)</a> <a id="2441" class="Symbol">_)</a>
    <a id="2448" href="Cubical.Foundations.Prelude.html#5184" class="Function Operator">∙</a> <a id="2450" class="Symbol">(</a><a id="2451" href="Cubical.Foundations.Prelude.html#945" class="Function">sym</a> <a id="2455" href="Cubical.Foundations.Function.html#767" class="Function Operator">$</a> <a id="2457" href="Cubical.Categories.Presheaf.More.html#4832" class="Function">intro-natural</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Cubical.Categories.FunctorComprehension.html#1769" class="Bound">ues</a> <a id="2476" href="Cubical.Categories.FunctorComprehension.html#2191" class="Bound">z</a><a id="2477" class="Symbol">))</a>
</pre></body></html>