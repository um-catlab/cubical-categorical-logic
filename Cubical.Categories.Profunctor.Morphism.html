<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Categories.Profunctor.Morphism</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Cubical.Categories.Profunctor.Morphism.html" class="Module">Cubical.Categories.Profunctor.Morphism</a> <a id="47" class="Keyword">where</a>



<a id="56" class="Comment">-- private</a>
<a id="67" class="Comment">--   variable</a>
<a id="81" class="Comment">--     ℓb ℓb&#39; ℓc ℓc&#39; ℓd ℓd&#39; ℓe ℓe&#39; ℓp ℓr : Level</a>

<a id="131" class="Comment">-- open NatTrans</a>
<a id="148" class="Comment">-- open Iso</a>

<a id="161" class="Comment">-- -- Square in a double category of functors and profunctors</a>
<a id="223" class="Comment">-- module _ {B : Category ℓb ℓb&#39;}{C : Category ℓc ℓc&#39;}</a>
<a id="278" class="Comment">--          {D : Category ℓd ℓd&#39;}{E : Category ℓe ℓe&#39;}</a>
<a id="333" class="Comment">--          (P : B o-[ ℓp ]-* C) (F : Functor B D)</a>
<a id="384" class="Comment">--          (G : Functor C E) (R : D o-[ ℓr ]-* E) where</a>
<a id="441" class="Comment">--   record ProfHom : Type ((ℓ-max (ℓ-max (ℓ-max (ℓ-max</a>
<a id="497" class="Comment">--                           (ℓ-max ℓb ℓb&#39;) ℓc) ℓc&#39;) ℓp) ℓr)) where</a>
<a id="565" class="Comment">--     field</a>
<a id="578" class="Comment">--       R-hom : ∀ b c → ⟨ P ⟅ b , c ⟆ ⟩ → ⟨ R ⟅ F ⟅ b ⟆ , G ⟅ c ⟆ ⟆ ⟩</a>
<a id="649" class="Comment">--       R-nat : ∀ b&#39; b c c&#39; → (f : B [ b&#39; , b ])</a>
<a id="699" class="Comment">--               (p : ⟨ P ⟅ b , c ⟆ ⟩) (g : C [ c , c&#39; ]) →</a>
<a id="759" class="Comment">--             R-hom _ _ ((P ⟪ f , g ⟫) p) ≡</a>
<a id="804" class="Comment">--               (R ⟪ F ⟪ f ⟫ , G ⟪ g ⟫ ⟫) (R-hom _ _ p)</a>

<a id="862" class="Comment">--     R-homI : ∀ {b c} → ⟨ P ⟅ b , c ⟆ ⟩ → ⟨ R ⟅ F ⟅ b ⟆ , G ⟅ c ⟆ ⟆ ⟩</a>
<a id="934" class="Comment">--     R-homI = R-hom _ _</a>
<a id="960" class="Comment">--     R-natI : ∀ {b&#39; b c c&#39;} →</a>
<a id="992" class="Comment">--       (f : B [ b&#39; , b ]) (p : ⟨ P ⟅ b , c ⟆ ⟩) (g : C [ c , c&#39; ]) →</a>
<a id="1063" class="Comment">--             R-hom _ _ ((P ⟪ f , g ⟫) p) ≡</a>
<a id="1108" class="Comment">--               (R ⟪ F ⟪ f ⟫ , G ⟪ g ⟫ ⟫) (R-hom _ _ p)</a>
<a id="1165" class="Comment">--     R-natI = R-nat _ _ _ _</a>

<a id="1196" class="Comment">--   open ProfHom</a>
<a id="1214" class="Comment">--   unquoteDecl ProfHomIsoΣ = declareRecordIsoΣ ProfHomIsoΣ (quote ProfHom)</a>
<a id="1291" class="Comment">--   ProfHom≡ : ∀ ph ph&#39; → (ph .R-hom ≡ ph&#39; .R-hom) → ph ≡ ph&#39;</a>
<a id="1354" class="Comment">--   ProfHom≡ ph ph&#39; path =</a>
<a id="1382" class="Comment">--     isoFunInjective ProfHomIsoΣ ph ph&#39;</a>
<a id="1424" class="Comment">--       (Σ≡Prop (λ f → isPropΠ6</a>
<a id="1457" class="Comment">--         (λ a b c d e f&#39; → isPropΠ λ g → (R ⟅ _ , _ ⟆) .snd _ _)) path)</a>

<a id="1532" class="Comment">--   ProfHomNT : Type (ℓ-max (ℓ-max</a>
  <a id="1570" class="Comment">--   (ℓ-max (ℓ-max (ℓ-max ℓb ℓb&#39;) ℓc) ℓc&#39;) ℓp) ℓr)</a>
<a id="1621" class="Comment">--   ProfHomNT =</a>
<a id="1638" class="Comment">--     NatTrans (LiftF {ℓp} {ℓr} ∘F P) (LiftF {ℓr} {ℓp} ∘F R ∘F ((F ^opF) ×F G))</a>

<a id="1720" class="Comment">--   ProfHom→NT : ProfHom → ProfHomNT</a>
<a id="1758" class="Comment">--   ProfHom→NT ph .N-ob (b , c) f = lift (R-homI ph (f .lower))</a>
<a id="1823" class="Comment">--   ProfHom→NT ph .N-hom f = funExt λ g → cong lift (R-natI ph _ _ _)</a>

<a id="1895" class="Comment">--   NT→ProfHom : ProfHomNT → ProfHom</a>
<a id="1933" class="Comment">--   NT→ProfHom α .R-hom _ _ p = α .N-ob _ (lift p) .lower</a>
<a id="1992" class="Comment">--   NT→ProfHom α .R-nat _ _ _ _ f p g =</a>
<a id="2033" class="Comment">--     cong lower (λ i → (α .N-hom (f , g) i) (lift p) )</a>

<a id="2091" class="Comment">--   ProfHomIsoNT : Iso ProfHom ProfHomNT</a>
<a id="2133" class="Comment">--   ProfHomIsoNT .fun = ProfHom→NT</a>
<a id="2169" class="Comment">--   ProfHomIsoNT .inv = NT→ProfHom</a>
<a id="2205" class="Comment">--   ProfHomIsoNT .ret ph = ProfHom≡ _ _ refl</a>
<a id="2251" class="Comment">--   ProfHomIsoNT .sec α = makeNatTransPath refl</a>
</pre></body></html>